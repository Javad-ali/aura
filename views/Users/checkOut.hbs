<header class="header-v4">
	<!-- Header desktop -->
	<div class="container-menu-desktop">


		<div class="wrap-menu-desktop how-shadow1">
			<nav class="limiter-menu-desktop container">

				<!-- Logo desktop -->
				<a href="#" class="logo">
					<img src="/images/icons/logo-01.png" alt="IMG-LOGO">
				</a>

				<!-- Menu desktop -->
				<div class="menu-desktop">
					<ul class="main-menu">
						<li>
							<a href="/users">Home</a>
						</li>

						<li>
							<a href="/users#shopp">Shop</a>
						</li>
					</ul>
				</div>

				<!-- Icon header -->
				<div class="wrap-icon-header flex-w flex-r-m">
					<div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-show-modal-search">
						<i class="zmdi zmdi-search"></i>
					</div>

					<div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-cart"
						data-notify="{{cart.products.length}}">
						<i class="zmdi zmdi-shopping-cart"></i>
					</div>

					<a href="#" class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti"
						data-notify="0">
						<i class="zmdi zmdi-favorite-outline"></i>
					</a>
				</div>
			</nav>
		</div>
	</div>

	<!-- Header Mobile -->
	<div class="wrap-header-mobile">
		<!-- Logo moblie -->
		<div class="logo-mobile">
			<a href="#"><img src="/images/icons/logo-01.png" alt="IMG-LOGO"></a>
		</div>

		<!-- Icon header -->
		<div class="wrap-icon-header flex-w flex-r-m m-r-15">
			<div class="icon-header-item cl2 hov-cl1 trans-04 p-r-11 js-show-modal-search">
				<i class="zmdi zmdi-search"></i>
			</div>

			<div class="icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti js-show-cart"
				data-notify="{{cart.products.length}}">
				<i class="zmdi zmdi-shopping-cart"></i>
			</div>

			<a href="#" class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti"
				data-notify="0">
				<i class="zmdi zmdi-favorite-outline"></i>
			</a>
		</div>

		<!-- Button show menu -->
		<div class="btn-show-menu-mobile hamburger hamburger--squeeze">
			<span class="hamburger-box">
				<span class="hamburger-inner"></span>
			</span>
		</div>
	</div>


	<!-- Menu Mobile -->
	<div class="menu-mobile">
		<ul class="main-menu-m">
			<li>
				<a href="/users">Home</a>

				{{!-- <span class="arrow-main-menu-m">
					<i class="fa fa-angle-right" aria-hidden="true"></i>
				</span> --}}
			</li>

			<li>
				<a href="/users#shopp">Shop</a>
			</li>
		</ul>
	</div>

	<!-- Modal Search -->
	<div class="modal-search-header flex-c-m trans-04 js-hide-modal-search">
		<div class="container-search-header">
			<button class="flex-c-m btn-hide-modal-search trans-04 js-hide-modal-search">
				<img src="images/icons/icon-close2.png" alt="CLOSE">
			</button>

			<form class="wrap-search-header flex-w p-l-15">
				<button class="flex-c-m trans-04">
					<i class="zmdi zmdi-search"></i>
				</button>
				<input class="plh3" type="text" name="search" placeholder="Search...">
			</form>
		</div>
	</div>
</header>

<!-- Cart -->
<div class="wrap-header-cart js-panel-cart">
	<div class="s-full js-hide-cart"></div>

	<div class="header-cart flex-col-l p-l-65 p-r-25">
		<div class="header-cart-title flex-w flex-sb-m p-b-8">
			<span class="mtext-103 cl2">
				Your Cart
			</span>

			<div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart">
				<i class="zmdi zmdi-close"></i>
			</div>
		</div>

		<div class="header-cart-content flex-w js-pscroll">
			<ul class="header-cart-wrapitem w-full">
				{{#each cart.products}}
				<li class="header-cart-item flex-w flex-t m-b-12">
					<div class="header-cart-item-img">
						<img src="/images/items/{{this.product.coverImage}}" alt="IMG">
					</div>

					<div class="header-cart-item-txt p-t-8">
						<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
							{{this.product.product.itemName}}
						</a>

						<span class="header-cart-item-info">
							{{this.qty}}x ${{this.product.product.discountPrice}}
						</span>
					</div>
				</li>
				{{/each}}
			</ul>

			<div class="w-full">
				<div class="header-cart-total w-full p-tb-40">
					Total: ${{cart.totalPrice}}
				</div>

				<div class="header-cart-buttons flex-w w-full">
					<a href="shoping-cart.html"
						class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-r-8 m-b-10">
						View Cart
					</a>

					<a href="shoping-cart.html"
						class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-b-10">
						Check Out
					</a>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- breadcrumb -->
<div class="container">
	<div class="bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg">
		<a href="/users" class="stext-109 cl8 hov-cl1 trans-04">
			Home
			<i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
		</a>

		<span class="stext-109 cl4">
			check out
		</span>
	</div>
</div>


<!-- Shoping Cart -->
<div class="bg0 p-t-75 p-b-85">
	<div class="container">
		<div class="row">
			<div class="col-lg-10 col-xl-7 m-lr-auto m-b-50">
				<div class="m-l-25 m-r--38 m-lr-0-xl">
					<div class="wrap-table-shopping-cart">
						<table class="table-shopping-cart">
							<tr class="table_head">
								<th class="column-1">Product</th>
								<th class="column-2">Brand Name</th>
								<th class="column-3">Price</th>
								<th class="column-4">Quantity</th>
								<th class="column-5">Total</th>
							</tr>
							{{#each cart.products}}

							<tr class="table_row">
								<td class="column-1">
									<div class="how-itemcart1">
										<img src="/images/items/{{this.product.coverImage}}" alt="IMG">
										<p class="text-center"> {{this.product.product.itemName}}</p>
									</div>
								</td>
								<td class="column-2">{{this.product.product.brandName}}</td>
								<td class="column-3">${{this.product.product.discountPrice}}</td>
								<td class="column-4">
									<div class=" flex-w justify-content-center">
										<input class="mtext-104 cl3 txt-center  w-100 input" disabled type="number" name="num-product1"
											value="{{this.qty}}">
									</div>
								</td>
								<td class="column-5">{{this.price}}</td>
							</tr>

							{{/each}}
						</table>
					</div>

					<div class="flex-w flex-sb-m bor15 p-t-18 p-b-15 p-lr-40 p-lr-15-sm">
						<div class="flex-w flex-m m-r-20 m-tb-5">
							<input class="stext-104 cl2 plh4 size-117 bor13 p-lr-20 m-r-10 m-tb-5 " id="coupon"
								type="text" name="coupon" placeholder="Coupon Code">

							<div class="flex-c-m stext-101 cl2 size-118 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-5"
								id="apply-coupon">
								Apply coupon
							</div>
						</div>

						{{!-- <div
							class="flex-c-m stext-101 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-10">
							Get Coupon
						</div> --}}
					</div>
				</div>
			</div>

			<div class="col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50">
				<div class="bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm">
					<h4 class="mtext-109 cl2 p-b-30">
						Cart Totals
					</h4>

					<div class="flex-w flex-t bor12 p-b-13">
						<div class="size-208">
							<span class="stext-110 cl2">
								Subtotal:
							</span>
						</div>

						<div class="size-209">
							<span class="mtext-110 cl2">
								â‚¹{{cart.totalPrice}}
							</span>
						</div>
					</div>

					<div class="flex-w flex-t bor12 p-t-15 p-b-30">
						<div class="size-208 w-full-ssm m-b-12 m-t-9">
							<span class="stext-110 cl2">
								Shipping:
							</span>
						</div>
						<div class="rs1-select2 rs2-select2 bor8 bg0 m-b-12 m-t-9">
							<select class="js-select2 address" name="address">
								{{#each address}}
								{{#each addresses}}
								<option value="{{this._id}}">{{this.address}},{{this.city}},{{this.state}}</option>
								{{/each}}
								{{/each}}
							</select>
							<div class="dropDownSelect2"></div>
						</div>
						<button type="button"
							class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer"
							data-toggle="modal" data-target="#exampleModal">
							Add Address
						</button>
						<div>
							<div class="size-208 w-full-ssm m-b-12 m-t-9">
								<span class="stext-110 cl2">
									Payment:
								</span>
								<input type="radio" value="online-payment" name="payment" required><label for="">Online
									Payment</label>
								<input type="radio" value="COD" name="payment" required><label for="">COD</label>

							</div>
						</div>

					</div>

                    <div class="flex-w flex-t p-t-27 p-b-33">
						<div class="size-208">
							<span class="mtext-101 cl2">
								discount:
							</span>
						</div>

						<div class="size-209 p-t-1">
							<span>â‚¹</span>
							<span class="mtext-110 cl2 discount-price">
								
							</span>
						</div>
					</div>

                   
					<div class="flex-w flex-t p-t-27 p-b-33">
						<div class="size-208">
							<span class="mtext-101 cl2">
								Total:
							</span>
						</div>

						<div class="size-209 p-t-1">
							<span>â‚¹</span>
							<span class="mtext-110 cl2 total-price">
								{{cart.totalPrice}}
							</span>
						</div>
					</div>

					<button type="submit"
						class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer"
						id="placeOrder">
						Place Order
					</button>
				</div>
			</div>
		</div>
	</div>
</div>




<!-- Footer -->
<footer class="bg3 p-t-75 p-b-32">
	<div class="container">
		<div class="row">
			<div class="col-sm-6 col-lg-3 p-b-50">
				<h4 class="stext-301 cl0 p-b-30">
					Categories
				</h4>

				<ul>
					{{#each category}}
					<li class="p-b-10">
						<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
							{{this.category}}
						</a>
					</li>
					{{/each}}
				</ul>
			</div>

			<div class="col-sm-6 col-lg-3 p-b-50">
				<h4 class="stext-301 cl0 p-b-30">
					Help
				</h4>

				<ul>
					<li class="p-b-10">
						<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
							Track Order
						</a>
					</li>

					<li class="p-b-10">
						<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
							Returns
						</a>
					</li>

					<li class="p-b-10">
						<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
							Shipping
						</a>
					</li>

					<li class="p-b-10">
						<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
							FAQs
						</a>
					</li>
				</ul>
			</div>

			<div class="col-sm-6 col-lg-3 p-b-50">
				<h4 class="stext-301 cl0 p-b-30">
					GET IN TOUCH
				</h4>

				<p class="stext-107 cl7 size-201">
					Any queries? | call us on (+91) 916235077710
				</p>

				<div class="p-t-27">
					<a href="https://www.facebook.com/aurahomecenter/" target="_blank"
						class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
						<i class="fa fa-facebook"></i>
					</a>

					<a href="https://www.instagram.com/aurahomecenter/" target="_blank"
						class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
						<i class="fa fa-instagram"></i>
					</a>

					<a href="https://wa.me/916235077710" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
						<i class="fa fa-whatsapp"></i>
					</a>
				</div>
			</div>

			<div class="col-sm-6 col-lg-3 p-b-50">
				<h4 class="stext-301 cl0 p-b-30">
					MAIL TO
				</h4>

				<form>
					<div class="wrap-input1 w-full p-b-4">
						<input class="input1 bg-none plh1 stext-107 cl7" type="text" name="email"
							placeholder="info@aurahomecenter.com">
						<div class="focus-input1 trans-04"></div>
					</div>

					<div class="p-t-18">
						<a href="mailto:info@aurahomecenter.com"
							class="flex-c-m stext-101 cl0 size-103 bg1 bor1 hov-btn2 p-lr-15 trans-04">Click here</a>

					</div>
				</form>
			</div>
		</div>

		<div class="p-t-40">

			<p class="stext-107 cl6 txt-center">
				<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
				Copyright &copy;
				<script>document.write(new Date().getFullYear());</script> All rights reserved | Aurahomecenter
				<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->

			</p>
		</div>
	</div>
</footer>
<!--  address modal-->

<!-- Back to top -->
<div class="btn-back-to-top" id="myBtn">
	<span class="symbol-btn-back-to-top">
		<i class="zmdi zmdi-chevron-up"></i>
	</span>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
	aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="col-12">
					<form class="form-horizontal" action="/users/address" method="post">
						<fieldset>

							<!-- Form Name -->
							<legend>Address Details</legend>

							<!-- Text input-->
							<div class="form-group">
								<label class="col-sm-2 control-label" for="textinput">Line 1</label>
								<div class="col-sm-10">
									<input type="text" name="address" placeholder="Address Line 1" class="form-control">
								</div>
							</div>



							<!-- Text input-->
							<div class="form-group">
								<label class="col-sm-2 control-label" for="textinput">City</label>
								<div class="col-sm-10">
									<input type="text" placeholder="City" name="city" class="form-control">
								</div>
							</div>

							<!-- Text input-->
							<div class="form-group">
								<label class="col-sm-2 control-label" for="textinput">State</label>
								<div class="col-sm-4">
									<input name="state" type="text" placeholder="State" class="form-control">
								</div>

								<label class="col-sm-2 control-label" for="textinput">Postcode</label>
								<div class="col-sm-4">
									<input name="pin" type="text" placeholder="Post Code" class="form-control">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label" for="textinput">Contact</label>
								<div class="col-sm-10">
									<input type="number" placeholder="contact" name="contact" class="form-control">
								</div>
							</div>


							<!-- Text input-->


							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<div class="pull-right">
										<button type="reset" class="btn btn-default">Cancel</button>
										<button type="submit" class="btn btn-primary">Save</button>
									</div>
								</div>
							</div>

						</fieldset>
					</form>
				</div><!-- /.col-lg-12 -->

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-primary">Save changes</button>
			</div>
		</div>
	</div>
</div>

<style>
	/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}
</style>
<script src="/vendor/sweetalert/sweetalert.min.js"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
	$(document).ready(function () {
		$('#apply-coupon').click(function () {

			const coupon = $('#coupon').val()
			axios.post(`/users/coupon`, {
				coupon
			}).then((response) => {
				if (response?.data?.status) {
									swal(coupon," coupon applied !", "success");

					$('.total-price').text(`${response.data.totalPrice}`)
					$('.discount-price').text(`${response.data.discount}`)
				} else {
					swal(response.data.message, "Try again", "warning");
				}


			})
			$('#placeOrder').click(function () {
				const address = $('.address').val()
				const couponCode = $('#coupon').val()
				const paymentType = $('input[name="payment"]:checked').val();

				axios.post(`/users/checkout`, { address, paymentType, couponCode }).then(response => {
					console.log(response.data)
					const orderid=response.data.orderid
					if (response.data.status) {
						swal(response.data.message, "Thank you", "success").then(e=>{
									location.assign('/users')
								})
					} else {

						var options = {
							"key": "rzp_test_pvQ0gJaaG8tShl", // Enter the Key ID generated from the Dashboard
							"amount": response.data.order.amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
							"currency": "INR",
							"name": "Aura Home Center ",
							"description": "Test Transaction",
							"image": "https://example.com/your_logo",
							"order_id": response.data.order.id, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
							"handler": function (response) {

								verifypayment(response)
							}, "prefill": {
								"name": "Gaurav Kumar",
								"email": "gaurav.kumar@example.com",
								"contact": "9999999999"
							},
							"notes": {
								"address": "Aura Home Center"
							},
							"theme": {
								"color": "#202f1e"
							}
						};
						var rzp1 = new Razorpay(options);
						rzp1.on('payment.failed', function (response) {
							swal('oopsðŸ˜µâ€ðŸ’«....something went wrong',"Try againðŸ˜“","error")
						});

						rzp1.open();
						const verifypayment = (response) => {
							axios.post('/verifyPaymnet', { response,orderid}).then(response => {
								console.log(response)
								swal("payment successful", "Thank you", "success").then(e=>{
									location.assign('/users')
								})
							 
							})
						}
					}

				})


			})
		})
	})
</script>